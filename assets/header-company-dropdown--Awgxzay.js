import{ad as ie,ae as V,af as y,ag as E,ah as S,ai as T,aj as P,ak as W,al as pe,am as fe,an as me,ao as G,ap as D,aq as J,ar as ge,r as d,as as ae,k as Q,a9 as X,j as r,d as C,m as re,l as ye,B as A,L,at as be,au as ve,av as xe,a as Ce}from"./index-Dv1JWxNr.js";import{S as Re}from"./separator-C7xfAAuo.js";import{a1 as Se,D as ne,e as oe,A as we,m as je,n as Oe,f as le,g as ke,h as Y,o as Ee,i as b,p as O,a2 as Te,a3 as De,a4 as Qe}from"./avatar-BAwvz_Zl.js";import{c as ce}from"./createReactComponent-DEfHJg2M.js";import{S as Ie,a as Me,b as Ne,c as Fe,d as Z}from"./select-C_Vy9nNB.js";var Le=class extends ie{constructor(e,t){super(),this.options=t,this.#s=e,this.#o=null,this.#n=V(),this.options.experimental_prefetchInRender||this.#n.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(t)}#s;#e=void 0;#i=void 0;#t=void 0;#a;#r;#n;#o;#m;#d;#p;#c;#h;#l;#f=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#e.addObserver(this),ee(this.#e,this.options)?this.#u():this.updateResult(),this.#v())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return U(this.#e,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return U(this.#e,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#x(),this.#C(),this.#e.removeObserver(this)}setOptions(e){const t=this.options,s=this.#e;if(this.options=this.#s.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof y(this.options.enabled,this.#e)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#R(),this.#e.setOptions(this.options),t._defaulted&&!E(this.options,t)&&this.#s.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#e,observer:this});const i=this.hasListeners();i&&te(this.#e,s,this.options,t)&&this.#u(),this.updateResult(),i&&(this.#e!==s||y(this.options.enabled,this.#e)!==y(t.enabled,this.#e)||S(this.options.staleTime,this.#e)!==S(t.staleTime,this.#e))&&this.#g();const a=this.#y();i&&(this.#e!==s||y(this.options.enabled,this.#e)!==y(t.enabled,this.#e)||a!==this.#l)&&this.#b(a)}getOptimisticResult(e){const t=this.#s.getQueryCache().build(this.#s,e),s=this.createResult(t,e);return Pe(this,s)&&(this.#t=s,this.#r=this.options,this.#a=this.#e.state),s}getCurrentResult(){return this.#t}trackResult(e,t){return new Proxy(e,{get:(s,i)=>(this.trackProp(i),t?.(i),Reflect.get(s,i))})}trackProp(e){this.#f.add(e)}getCurrentQuery(){return this.#e}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#s.defaultQueryOptions(e),s=this.#s.getQueryCache().build(this.#s,t);return s.fetch().then(()=>this.createResult(s,t))}fetch(e){return this.#u({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#t))}#u(e){this.#R();let t=this.#e.fetch(this.options,e);return e?.throwOnError||(t=t.catch(T)),t}#g(){this.#x();const e=S(this.options.staleTime,this.#e);if(P||this.#t.isStale||!W(e))return;const s=pe(this.#t.dataUpdatedAt,e)+1;this.#c=setTimeout(()=>{this.#t.isStale||this.updateResult()},s)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#e):this.options.refetchInterval)??!1}#b(e){this.#C(),this.#l=e,!(P||y(this.options.enabled,this.#e)===!1||!W(this.#l)||this.#l===0)&&(this.#h=setInterval(()=>{(this.options.refetchIntervalInBackground||fe.isFocused())&&this.#u()},this.#l))}#v(){this.#g(),this.#b(this.#y())}#x(){this.#c&&(clearTimeout(this.#c),this.#c=void 0)}#C(){this.#h&&(clearInterval(this.#h),this.#h=void 0)}createResult(e,t){const s=this.#e,i=this.options,a=this.#t,l=this.#a,o=this.#r,h=e!==s?e.state:this.#i,{state:m}=e;let c={...m},R=!1,u;if(t._optimisticResults){const p=this.hasListeners(),w=!p&&ee(e,t),x=p&&te(e,s,t,i);(w||x)&&(c={...c,...me(m.data,e.options)}),t._optimisticResults==="isRestoring"&&(c.fetchStatus="idle")}let{error:K,errorUpdatedAt:B,status:v}=c;u=c.data;let z=!1;if(t.placeholderData!==void 0&&u===void 0&&v==="pending"){let p;a?.isPlaceholderData&&t.placeholderData===o?.placeholderData?(p=a.data,z=!0):p=typeof t.placeholderData=="function"?t.placeholderData(this.#p?.state.data,this.#p):t.placeholderData,p!==void 0&&(v="success",u=G(a?.data,p,t),R=!0)}if(t.select&&u!==void 0&&!z)if(a&&u===l?.data&&t.select===this.#m)u=this.#d;else try{this.#m=t.select,u=t.select(u),u=G(a?.data,u,t),this.#d=u,this.#o=null}catch(p){this.#o=p}this.#o&&(K=this.#o,u=this.#d,B=Date.now(),v="error");const M=c.fetchStatus==="fetching",N=v==="pending",F=v==="error",H=N&&M,$=u!==void 0,g={status:v,fetchStatus:c.fetchStatus,isPending:N,isSuccess:v==="success",isError:F,isInitialLoading:H,isLoading:H,data:u,dataUpdatedAt:c.dataUpdatedAt,error:K,errorUpdatedAt:B,failureCount:c.fetchFailureCount,failureReason:c.fetchFailureReason,errorUpdateCount:c.errorUpdateCount,isFetched:c.dataUpdateCount>0||c.errorUpdateCount>0,isFetchedAfterMount:c.dataUpdateCount>h.dataUpdateCount||c.errorUpdateCount>h.errorUpdateCount,isFetching:M,isRefetching:M&&!N,isLoadingError:F&&!$,isPaused:c.fetchStatus==="paused",isPlaceholderData:R,isRefetchError:F&&$,isStale:q(e,t),refetch:this.refetch,promise:this.#n};if(this.options.experimental_prefetchInRender){const p=j=>{g.status==="error"?j.reject(g.error):g.data!==void 0&&j.resolve(g.data)},w=()=>{const j=this.#n=g.promise=V();p(j)},x=this.#n;switch(x.status){case"pending":e.queryHash===s.queryHash&&p(x);break;case"fulfilled":(g.status==="error"||g.data!==x.value)&&w();break;case"rejected":(g.status!=="error"||g.error!==x.reason)&&w();break}}return g}updateResult(){const e=this.#t,t=this.createResult(this.#e,this.options);if(this.#a=this.#e.state,this.#r=this.options,this.#a.data!==void 0&&(this.#p=this.#e),E(t,e))return;this.#t=t;const s=()=>{if(!e)return!0;const{notifyOnChangeProps:i}=this.options,a=typeof i=="function"?i():i;if(a==="all"||!a&&!this.#f.size)return!0;const l=new Set(a??this.#f);return this.options.throwOnError&&l.add("error"),Object.keys(this.#t).some(o=>{const f=o;return this.#t[f]!==e[f]&&l.has(f)})};this.#S({listeners:s()})}#R(){const e=this.#s.getQueryCache().build(this.#s,this.options);if(e===this.#e)return;const t=this.#e;this.#e=e,this.#i=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#v()}#S(e){D.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#t)}),this.#s.getQueryCache().notify({query:this.#e,type:"observerResultsUpdated"})})}};function _e(e,t){return y(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function ee(e,t){return _e(e,t)||e.state.data!==void 0&&U(e,t,t.refetchOnMount)}function U(e,t,s){if(y(t.enabled,e)!==!1&&S(t.staleTime,e)!=="static"){const i=typeof s=="function"?s(e):s;return i==="always"||i!==!1&&q(e,t)}return!1}function te(e,t,s,i){return(e!==t||y(i.enabled,e)===!1)&&(!s.suspense||e.state.status!=="error")&&q(e,s)}function q(e,t){return y(t.enabled,e)!==!1&&e.isStaleByTime(S(t.staleTime,e))}function Pe(e,t){return!E(e.getCurrentResult(),t)}var Ue=class extends ie{#s;#e=void 0;#i;#t;constructor(e,t){super(),this.#s=e,this.setOptions(t),this.bindMethods(),this.#a()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const t=this.options;this.options=this.#s.defaultMutationOptions(e),E(this.options,t)||this.#s.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#i,observer:this}),t?.mutationKey&&this.options.mutationKey&&J(t.mutationKey)!==J(this.options.mutationKey)?this.reset():this.#i?.state.status==="pending"&&this.#i.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#i?.removeObserver(this)}onMutationUpdate(e){this.#a(),this.#r(e)}getCurrentResult(){return this.#e}reset(){this.#i?.removeObserver(this),this.#i=void 0,this.#a(),this.#r()}mutate(e,t){return this.#t=t,this.#i?.removeObserver(this),this.#i=this.#s.getMutationCache().build(this.#s,this.options),this.#i.addObserver(this),this.#i.execute(e)}#a(){const e=this.#i?.state??ge();this.#e={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#r(e){D.batch(()=>{if(this.#t&&this.hasListeners()){const t=this.#e.variables,s=this.#e.context;e?.type==="success"?(this.#t.onSuccess?.(e.data,t,s),this.#t.onSettled?.(e.data,null,t,s)):e?.type==="error"&&(this.#t.onError?.(e.error,t,s),this.#t.onSettled?.(void 0,e.error,t,s))}this.listeners.forEach(t=>{t(this.#e)})})}},he=d.createContext(!1),Ae=()=>d.useContext(he);he.Provider;function qe(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Ke=d.createContext(qe()),Be=()=>d.useContext(Ke),ze=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},He=e=>{d.useEffect(()=>{e.clearReset()},[e])},$e=({result:e,errorResetBoundary:t,throwOnError:s,query:i,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&i&&(a&&e.data===void 0||ae(s,[e.error,i])),Ve=e=>{if(e.suspense){const t=i=>i==="static"?i:Math.max(i??1e3,1e3),s=e.staleTime;e.staleTime=typeof s=="function"?(...i)=>t(s(...i)):t(s),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},We=(e,t)=>e.isLoading&&e.isFetching&&!t,Ge=(e,t)=>e?.suspense&&t.isPending,se=(e,t,s)=>t.fetchOptimistic(e).catch(()=>{s.clearReset()});function Je(e,t,s){const i=Ae(),a=Be(),l=Q(),o=l.defaultQueryOptions(e);l.getDefaultOptions().queries?._experimental_beforeQuery?.(o),o._optimisticResults=i?"isRestoring":"optimistic",Ve(o),ze(o,a),He(a);const f=!l.getQueryCache().get(o.queryHash),[h]=d.useState(()=>new t(l,o)),m=h.getOptimisticResult(o),c=!i&&e.subscribed!==!1;if(d.useSyncExternalStore(d.useCallback(R=>{const u=c?h.subscribe(D.batchCalls(R)):T;return h.updateResult(),u},[h,c]),()=>h.getCurrentResult(),()=>h.getCurrentResult()),d.useEffect(()=>{h.setOptions(o)},[o,h]),Ge(o,m))throw se(o,h,a);if($e({result:m,errorResetBoundary:a,throwOnError:o.throwOnError,query:l.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw m.error;return l.getDefaultOptions().queries?._experimental_afterQuery?.(o,m),o.experimental_prefetchInRender&&!P&&We(m,i)&&(f?se(o,h,a):l.getQueryCache().get(o.queryHash)?.promise)?.catch(T).finally(()=>{h.updateResult()}),o.notifyOnChangeProps?m:h.trackResult(m)}function ue(e,t){return Je(e,Le)}function de(e,t){const s=Q(),[i]=d.useState(()=>new Ue(s,e));d.useEffect(()=>{i.setOptions(e)},[i,e]);const a=d.useSyncExternalStore(d.useCallback(o=>i.subscribe(D.batchCalls(o)),[i]),()=>i.getCurrentResult(),()=>i.getCurrentResult()),l=d.useCallback((o,f)=>{i.mutate(o,f).catch(T)},[i]);if(a.error&&ae(i.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:l,mutateAsync:a.mutate}}/**
 * @license @tabler/icons-react v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var _=ce("outline","check","IconCheck",[["path",{d:"M5 12l5 5l10 -10",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Xe=ce("outline","search","IconSearch",[["path",{d:"M10 10m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0",key:"svg-0"}],["path",{d:"M21 21l-6 -6",key:"svg-1"}]]);const Ye=({className:e,fixed:t,children:s,...i})=>{const[a,l]=X.useState(0);return X.useEffect(()=>{const o=()=>{l(document.body.scrollTop||document.documentElement.scrollTop)};return document.addEventListener("scroll",o,{passive:!0}),()=>document.removeEventListener("scroll",o)},[]),r.jsxs("header",{className:C("bg-background flex h-16 items-center gap-3 p-4 sm:gap-4",t&&"header-fixed peer/header fixed z-50 w-[inherit] rounded-md",a>10&&t?"shadow-sm":"shadow-none",e),...i,children:[r.jsx(Se,{variant:"outline",className:"scale-125 sm:scale-100"}),r.jsx(Re,{orientation:"vertical",className:"h-6"}),s]})};Ye.displayName="Header";const Ze=({fixed:e,className:t,...s})=>r.jsx("main",{className:C("peer-[.header-fixed]/header:mt-16","px-4 py-6",e&&"fixed-main flex grow flex-col overflow-hidden",t),...s});Ze.displayName="Main";function ct(){const e=re(),{user:t,logout:s}=ye(f=>f.auth),i=async()=>{try{await s(),e({to:"/sign-in"})}catch{}},a=t?.email?t.email.charAt(0).toUpperCase():"U",l=t?.attributes?.name||t?.attributes?.given_name||t?.email||"User",o=t?.email||"user@example.com";return r.jsxs(ne,{modal:!1,children:[r.jsx(oe,{asChild:!0,children:r.jsx(A,{variant:"ghost",className:"relative h-8 w-8 rounded-full",children:r.jsxs(we,{className:"h-8 w-8",children:[r.jsx(je,{src:"/avatars/01.png",alt:l}),r.jsx(Oe,{children:a})]})})}),r.jsxs(le,{className:"w-56",align:"end",forceMount:!0,children:[r.jsx(ke,{className:"font-normal",children:r.jsxs("div",{className:"flex flex-col space-y-1",children:[r.jsx("p",{className:"text-sm leading-none font-medium",children:l}),r.jsx("p",{className:"text-muted-foreground text-xs leading-none",children:o})]})}),r.jsx(Y,{}),r.jsxs(Ee,{children:[r.jsx(b,{asChild:!0,children:r.jsxs(L,{to:"/settings",children:["Profile",r.jsx(O,{children:"⇧⌘P"})]})}),r.jsx(b,{asChild:!0,children:r.jsxs(L,{to:"/settings",children:["Billing",r.jsx(O,{children:"⌘B"})]})}),r.jsx(b,{asChild:!0,children:r.jsxs(L,{to:"/settings",children:["Settings",r.jsx(O,{children:"⌘S"})]})}),r.jsx(b,{children:"New Team"})]}),r.jsx(Y,{}),r.jsxs(b,{onClick:i,children:["Log out",r.jsx(O,{children:"⇧⌘Q"})]})]})]})}function ht({className:e="",placeholder:t="Search"}){const{setOpen:s}=Te();return r.jsxs(A,{variant:"outline",className:C("bg-muted/25 text-muted-foreground hover:bg-muted/50 relative h-8 w-full flex-1 justify-start rounded-md text-sm font-normal shadow-none sm:pr-12 md:w-40 md:flex-none lg:w-56 xl:w-64",e),onClick:()=>s(!0),children:[r.jsx(Xe,{"aria-hidden":"true",className:"absolute top-1/2 left-1.5 -translate-y-1/2"}),r.jsx("span",{className:"ml-3",children:t}),r.jsxs("kbd",{className:"bg-muted pointer-events-none absolute top-[0.3rem] right-[0.3rem] hidden h-5 items-center gap-1 rounded border px-1.5 font-mono text-[10px] font-medium opacity-100 select-none sm:flex",children:[r.jsx("span",{className:"text-xs",children:"⌘"}),"K"]})]})}function ut(){const{theme:e,setTheme:t}=be();return d.useEffect(()=>{const s=e==="dark"?"#020817":"#fff",i=document.querySelector("meta[name='theme-color']");i&&i.setAttribute("content",s)},[e]),r.jsxs(ne,{modal:!1,children:[r.jsx(oe,{asChild:!0,children:r.jsxs(A,{variant:"ghost",size:"icon",className:"scale-95 rounded-full",children:[r.jsx(De,{className:"size-[1.2rem] scale-100 rotate-0 transition-all dark:scale-0 dark:-rotate-90"}),r.jsx(Qe,{className:"absolute size-[1.2rem] scale-0 rotate-90 transition-all dark:scale-100 dark:rotate-0"}),r.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}),r.jsxs(le,{align:"end",children:[r.jsxs(b,{onClick:()=>t("light"),children:["Light"," ",r.jsx(_,{size:14,className:C("ml-auto",e!=="light"&&"hidden")})]}),r.jsxs(b,{onClick:()=>t("dark"),children:["Dark",r.jsx(_,{size:14,className:C("ml-auto",e!=="dark"&&"hidden")})]}),r.jsxs(b,{onClick:()=>t("system"),children:["System",r.jsx(_,{size:14,className:C("ml-auto",e!=="system"&&"hidden")})]})]})]})}const et="https://api-dev.delet.com";class tt{client;constructor(){this.client=ve.create({baseURL:et,headers:{"Content-Type":"application/json"}}),this.client.interceptors.request.use(async t=>{try{const i=(await xe()).tokens?.idToken?.toString();i&&(t.headers.Authorization=`Bearer ${i}`)}catch{}return t},t=>Promise.reject(t)),this.client.interceptors.response.use(t=>t,t=>(t.response?.status===401&&(window.location.href="/auth/sign-in"),Promise.reject(t)))}async get(t,s){return(await this.client.get(t,s)).data}async post(t,s,i){return(await this.client.post(t,s,i)).data}async put(t,s,i){return(await this.client.put(t,s,i)).data}async patch(t,s,i){return(await this.client.patch(t,s,i)).data}async delete(t,s){return(await this.client.delete(t,s)).data}async postFormData(t,s){return(await this.client.post(t,s,{headers:{"Content-Type":"multipart/form-data"}})).data}async patchFormData(t,s){return(await this.client.patch(t,s,{headers:{"Content-Type":"multipart/form-data"}})).data}}const k=new tt,n={companies:{all:["companies"],lists:()=>[...n.companies.all,"list"],list:e=>[...n.companies.lists(),e],details:()=>[...n.companies.all,"detail"],detail:e=>[...n.companies.details(),e]},users:{all:["users"],lists:()=>[...n.users.all,"list"],list:e=>[...n.users.lists(),e],details:()=>[...n.users.all,"detail"],detail:e=>[...n.users.details(),e],avatar:e=>[...n.users.all,"avatar",e]},leads:{all:["leads"],lists:()=>[...n.leads.all,"list"],list:e=>[...n.leads.lists(),e],details:()=>[...n.leads.all,"detail"],detail:e=>[...n.leads.details(),e]},bookings:{all:["bookings"],lists:()=>[...n.bookings.all,"list"],list:e=>[...n.bookings.lists(),e],details:()=>[...n.bookings.all,"detail"],detail:e=>[...n.bookings.details(),e]},hardware:{all:["hardware"],lists:()=>[...n.hardware.all,"list"],list:e=>[...n.hardware.lists(),e],details:()=>[...n.hardware.all,"detail"],detail:e=>[...n.hardware.details(),e]},kits:{all:["kits"],lists:()=>[...n.kits.all,"list"],list:e=>[...n.kits.lists(),e],details:()=>[...n.kits.all,"detail"],detail:e=>[...n.kits.details(),e]},structures:{all:["structures"],lists:()=>[...n.structures.all,"list"],list:e=>[...n.structures.lists(),e],details:()=>[...n.structures.all,"detail"],detail:e=>[...n.structures.details(),e]},orders:{all:["orders"],lists:()=>[...n.orders.all,"list"],list:e=>[...n.orders.lists(),e],details:()=>[...n.orders.all,"detail"],detail:e=>[...n.orders.details(),e]},properties:{all:["properties"],lists:()=>[...n.properties.all,"list"],list:e=>[...n.properties.lists(),e],details:()=>[...n.properties.all,"detail"],detail:e=>[...n.properties.details(),e]}},I={getCompanies:async e=>{const{isAdmin:t,...s}=e,i=t?"/superadmin":"";return k.post(`/api/companies${i}/search`,s)},createCompany:async e=>{const t=new FormData;return Object.entries(e).forEach(([s,i])=>{s==="address"&&i?Object.entries(i).forEach(([a,l])=>{l&&t.append(`address[${a}]`,String(l))}):s==="logo"&&i instanceof File?t.append("logo",i):i!=null&&t.append(s,String(i))}),k.postFormData("/api/companies/create",t)},updateCompany:async({_id:e,...t})=>{const s=new FormData;return Object.entries(t).forEach(([i,a])=>{i==="address"&&a?Object.entries(a).forEach(([l,o])=>{o!==void 0&&s.append(`address[${l}]`,String(o||""))}):i==="logo"&&a instanceof File?s.append("logo",a):a!==void 0&&s.append(i,String(a||""))}),k.patchFormData(`/api/companies/update/${e}`,s)},getCompany:async e=>k.get(`/api/companies/get/${e}`)},dt=e=>ue({queryKey:n.companies.list(e),queryFn:()=>I.getCompanies(e),staleTime:5*60*1e3}),pt=()=>{const e=Q();return de({mutationFn:I.createCompany,onSuccess:()=>{e.invalidateQueries({queryKey:n.companies.all})}})},ft=()=>{const e=Q();return de({mutationFn:I.updateCompany,onMutate:async t=>{await e.cancelQueries({queryKey:n.companies.detail(t._id)}),await e.cancelQueries({queryKey:n.companies.lists()});const s=e.getQueryData(n.companies.detail(t._id)),i=e.getQueriesData({queryKey:n.companies.lists()});return e.setQueryData(n.companies.detail(t._id),a=>a&&{...a,...t}),e.setQueriesData({queryKey:n.companies.lists()},a=>a?.companies?{...a,companies:a.companies.map(l=>l._id===t._id?{...l,...t}:l)}:a),{previousCompany:s,previousLists:i}},onError:(t,s,i)=>{i?.previousCompany&&e.setQueryData(n.companies.detail(s._id),i.previousCompany),i?.previousLists&&i.previousLists.forEach(([a,l])=>{e.setQueryData(a,l)})},onSettled:t=>{t&&e.invalidateQueries({queryKey:n.companies.detail(t._id)}),e.invalidateQueries({queryKey:n.companies.lists()})}})};function st(){return ue({queryKey:["companies","all"],queryFn:async()=>(await I.getCompanies({page:0,limit:1e3,isAdmin:!0})).companies,staleTime:10*60*1e3})}function mt(){const e=re(),t=Ce({strict:!1}),{data:s=[],isLoading:i,error:a}=st(),l=o=>{e({to:".",search:{...t,company:o==="none"?void 0:o}})};return a?null:r.jsx("div",{className:"hidden sm:block",children:r.jsxs(Ie,{value:t.company||"none",onValueChange:l,disabled:i,children:[r.jsx(Me,{className:"w-[200px]",children:r.jsx(Ne,{placeholder:i?"Loading companies...":"Company..."})}),r.jsxs(Fe,{children:[r.jsx(Z,{value:"none",children:"Company..."}),s.map(o=>r.jsx(Z,{value:o._id,children:o.name},o._id))]})]})})}export{Ye as H,_ as I,Ze as M,ct as P,ht as S,ut as T,mt as a,de as b,k as c,st as d,pt as e,ft as f,dt as g,Xe as h,n as q,ue as u};
