import{c as j,k as p,r as w,j as s,B as q,d as m}from"./index-CvyRkeE5.js";import{u as y,b as h,c as a,q as c}from"./header-company-dropdown-CQYbnI8v.js";import{X as N,C as b,a as k,c as P,d as K,e as M}from"./command-DTdQs4HX.js";import{P as Q,a as _,b as B}from"./popover-NdNb9ebW.js";import{B as F}from"./badge-Ce5hJyxp.js";import{C as E}from"./chevrons-up-down-2E7s93p_.js";import{C as O}from"./check-DOj7a-5i.js";/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],I=j("circle-plus",T),i={getStructures:async e=>a.get("/api/structure/admin"),getStructure:async e=>a.get(`/api/structure/admin/${e}`),createStructure:async e=>a.post("/api/structure/admin",e),updateStructure:async({_id:e,...n})=>a.patch(`/api/admin/structure/update/${e}`,{...n,_id:e}),getUserStructures:async e=>a.get(`/api/structure/user/${e}`),getProperties:async()=>(await a.post("/api/property/admin/search",{page:0,limit:1e3,filters:{},select:["_id","shortAddress","unit","city","state","zipCode"]})).properties||[]},L=e=>y({queryKey:c.structures.list(e),queryFn:()=>i.getStructures(e),staleTime:5*60*1e3}),X=e=>y({queryKey:c.structures.detail(e),queryFn:()=>i.getStructure(e),enabled:!!e,staleTime:5*60*1e3}),H=()=>{const e=p();return h({mutationFn:i.createStructure,onSuccess:()=>{e.invalidateQueries({queryKey:c.structures.all})}})},J=()=>{const e=p();return h({mutationFn:i.updateStructure,onSuccess:(n,l)=>{e.invalidateQueries({queryKey:c.structures.all}),e.invalidateQueries({queryKey:c.structures.detail(l._id)})}})};function W({options:e,value:n=[],onValueChange:l,placeholder:x="Select options...",className:v}){const[o,f]=w.useState(!1),r=n||[],C=t=>{const u=r.includes(t)?r.filter(g=>g!==t):[...r,t];l(u)},S=t=>{l(r.filter(u=>u!==t))},d=e.filter(t=>r.includes(t.value));return s.jsxs(Q,{open:o,onOpenChange:f,children:[s.jsx(_,{asChild:!0,children:s.jsxs(q,{variant:"outline",role:"combobox","aria-expanded":o,className:m("w-full justify-between",v),children:[s.jsx("div",{className:"flex flex-wrap gap-1",children:d.length>0?d.map(t=>s.jsxs(F,{variant:"secondary",className:"mr-1",onClick:u=>{u.stopPropagation(),S(t.value)},children:[t.label,s.jsx(N,{className:"ml-1 h-3 w-3 hover:text-destructive"})]},t.value)):s.jsx("span",{className:"text-muted-foreground",children:x})}),s.jsx(E,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),s.jsx(B,{className:"w-full p-0",children:s.jsxs(b,{children:[s.jsx(k,{placeholder:"Search..."}),s.jsx(P,{children:"No option found."}),s.jsx(K,{className:"max-h-64 overflow-auto",children:e.map(t=>s.jsxs(M,{value:t.value,onSelect:()=>C(t.value),children:[s.jsx(O,{className:m("mr-2 h-4 w-4",r.includes(t.value)?"opacity-100":"opacity-0")}),t.label]},t.value))})]})})]})}export{I as C,W as M,L as a,J as b,X as c,i as s,H as u};
