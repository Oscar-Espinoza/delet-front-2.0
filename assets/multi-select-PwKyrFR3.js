import{c as g,f as d,r as w,j as s,B as q,d as p}from"./index-LjicKyT0.js";import{u as y,b as h,q as c,c as a}from"./theme-switch-cMSK6cqB.js";import{B as N}from"./badge-4kjocfwo.js";import{X as b,C as k,f as P,h as K,i as M,j as Q}from"./command-X9JjFxyP.js";import{P as _,a as B,b as F}from"./popover-Bpz0jySH.js";import{C as E}from"./chevrons-up-down-DsmrhQjg.js";import{C as O}from"./check-D7e09AXV.js";/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],I=g("circle-plus",T),l={getStructures:async e=>a.get("/api/structure/admin"),getStructure:async e=>a.get(`/api/structure/admin/${e}`),createStructure:async e=>a.post("/api/structure/admin",e),updateStructure:async({_id:e,...n})=>a.patch(`/api/admin/structure/update/${e}`,{...n,_id:e}),getUserStructures:async e=>a.get(`/api/structure/user/${e}`),getProperties:async()=>(await a.post("/api/property/admin/search",{page:0,limit:1e3,filters:{},select:["_id","shortAddress","unit","city","state","zipCode"]})).properties||[]},L=e=>y({queryKey:c.structures.list(e),queryFn:()=>l.getStructures(e),staleTime:5*60*1e3}),X=e=>y({queryKey:c.structures.detail(e),queryFn:()=>l.getStructure(e),enabled:!!e,staleTime:5*60*1e3}),H=()=>{const e=d();return h({mutationFn:l.createStructure,onSuccess:()=>{e.invalidateQueries({queryKey:c.structures.all})}})},J=()=>{const e=d();return h({mutationFn:l.updateStructure,onSuccess:(n,i)=>{e.invalidateQueries({queryKey:c.structures.all}),e.invalidateQueries({queryKey:c.structures.detail(i._id)})}})};function W({options:e,value:n=[],onValueChange:i,placeholder:x="Select options...",className:v}){const[o,f]=w.useState(!1),r=n||[],C=t=>{const u=r.includes(t)?r.filter(j=>j!==t):[...r,t];i(u)},S=t=>{i(r.filter(u=>u!==t))},m=e.filter(t=>r.includes(t.value));return s.jsxs(_,{open:o,onOpenChange:f,children:[s.jsx(B,{asChild:!0,children:s.jsxs(q,{variant:"outline",role:"combobox","aria-expanded":o,className:p("w-full justify-between",v),children:[s.jsx("div",{className:"flex flex-wrap gap-1",children:m.length>0?m.map(t=>s.jsxs(N,{variant:"secondary",className:"mr-1",onClick:u=>{u.stopPropagation(),S(t.value)},children:[t.label,s.jsx(b,{className:"hover:text-destructive ml-1 h-3 w-3"})]},t.value)):s.jsx("span",{className:"text-muted-foreground",children:x})}),s.jsx(E,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),s.jsx(F,{className:"w-full p-0",children:s.jsxs(k,{children:[s.jsx(P,{placeholder:"Search..."}),s.jsx(K,{children:"No option found."}),s.jsx(M,{className:"max-h-64 overflow-auto",children:e.map(t=>s.jsxs(Q,{value:t.value,onSelect:()=>C(t.value),children:[s.jsx(O,{className:p("mr-2 h-4 w-4",r.includes(t.value)?"opacity-100":"opacity-0")}),t.label]},t.value))})]})})]})}export{I as C,W as M,L as a,J as b,X as c,l as s,H as u};
