import{j as e,B as T,r as c}from"./index-CsPbyjqq.js";import{h as f,l as C,T as M,f as y,i as D,j as F,k as v,u as V,g as P,a as k,b as I,c as B,d as E,e as H}from"./table-D4KWq3W4.js";import{a as $,S as q,b as U}from"./data-table-column-header-CQlxrAjV.js";import{a as z}from"./react-icons.esm-B0xYXpOp.js";import{I as A}from"./input-5SQVrAtH.js";function L({table:s,searchColumn:l,searchPlaceholder:n="Filter...",children:i}){const o=s.getState().columnFilters.length>0;return e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex flex-1 flex-col-reverse items-start gap-y-2 sm:flex-row sm:items-center sm:space-x-2",children:[l&&e.jsx(A,{placeholder:n,value:s.getColumn(l)?.getFilterValue()??"",onChange:r=>s.getColumn(l)?.setFilterValue(r.target.value),className:"h-8 w-[150px] lg:w-[250px]"}),i,o&&e.jsxs(T,{variant:"ghost",onClick:()=>s.resetColumnFilters(),className:"h-8 px-2 lg:px-3",children:["Reset",e.jsx(z,{className:"ml-2 h-4 w-4"})]})]}),e.jsx($,{table:s})]})}function W({table:s,columns:l,isLoading:n=!1,searchColumn:i,searchPlaceholder:o,toolbarChildren:r,showToolbar:j=!0,showPagination:w=!0,pageSizeOptions:S,showSelectedRows:m,toolbar:d,emptyState:u,loadingState:g}){const x=e.jsx(e.Fragment,{children:Array.from({length:5}).map((a,t)=>e.jsx(f,{children:l.map((h,N)=>e.jsx(C,{className:h.meta?.className??"",children:e.jsx(q,{className:"h-4 w-full"})},`skeleton-${t}-${N}`))},`skeleton-${t}`))}),p=e.jsx(f,{children:e.jsx(C,{colSpan:l.length,className:"h-[400px] text-center align-middle",children:e.jsx("div",{className:"flex flex-col items-center justify-center",children:e.jsx("p",{className:"text-muted-foreground",children:"No results found"})})})});return e.jsxs("div",{className:"space-y-4",children:[j&&(d||e.jsx(L,{table:s,searchColumn:i,searchPlaceholder:o,children:r})),e.jsx("div",{className:"min-h-[500px] rounded-md border",children:e.jsxs(M,{children:[e.jsx(y,{children:s.getHeaderGroups().map(a=>e.jsx(f,{className:"group/row",children:a.headers.map(t=>e.jsx(D,{colSpan:t.colSpan,className:t.column.columnDef.meta?.className??"",children:t.isPlaceholder?null:F(t.column.columnDef.header,t.getContext())},t.id))},a.id))}),e.jsx(v,{children:n?g||x:s.getRowModel().rows?.length?s.getRowModel().rows.map(a=>e.jsx(f,{"data-state":a.getIsSelected()&&"selected",className:"group/row",children:a.getVisibleCells().map(t=>e.jsx(C,{className:t.column.columnDef.meta?.className??"",children:F(t.column.columnDef.cell,t.getContext())},t.id))},a.id)):u||p})]})}),w&&e.jsx(U,{table:s,pageSizeOptions:S,showSelectedRows:m})]})}function X({data:s,columns:l,pageCount:n,defaultPerPage:i=10,manualPagination:o=!1,onPaginationChange:r,initialSorting:j=[],initialColumnFilters:w=[],initialColumnVisibility:S={}}){const[m,d]=c.useState({}),[u,g]=c.useState(S),[x,p]=c.useState(w),[a,t]=c.useState(j),[h,N]=c.useState({pageIndex:0,pageSize:i});return{table:V({data:s,columns:l,pageCount:n,state:{sorting:a,columnVisibility:u,rowSelection:m,columnFilters:x,...o&&{pagination:h}},enableRowSelection:!0,onRowSelectionChange:d,onSortingChange:t,onColumnFiltersChange:p,onColumnVisibilityChange:g,...o&&{onPaginationChange:R=>{const b=typeof R=="function"?R(h):R;N(b),r?.(b)},manualPagination:!0},getCoreRowModel:H(),getFilteredRowModel:E(),getPaginationRowModel:B(),getSortedRowModel:I(),getFacetedRowModel:k(),getFacetedUniqueValues:P()}),setRowSelection:d,setColumnFilters:p,setSorting:t,setColumnVisibility:g,rowSelection:m,columnFilters:x,sorting:a,columnVisibility:u}}export{W as D,X as u};
