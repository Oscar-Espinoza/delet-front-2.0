import{k as r}from"./index-CvyRkeE5.js";import{c as t,b as p,q as m}from"./header-company-dropdown-CQYbnI8v.js";const y=async({role:n="",company:e="",active:s=""}={})=>{const a=new URLSearchParams;n&&a.append("role",n),e&&a.append("company",e),s&&a.append("active",s);const o=await t.get(`/api/users/admin/list${a.toString()?`?${a.toString()}`:""}`);return Array.isArray(o)?o.map(i=>({...i,firstName:i.firstName||"",lastName:i.lastName||"",phone:i.phone||"",jobTitle:i.jobTitle||"",profileImage:i.profileImage||"",description:i.description||"",adminPanelRole:i.adminPanelRole||""})):[]},l=async(n,e)=>{const s={id:n,firstName:e.firstName||"",lastName:e.lastName||"",phone:e.phone||"",email:e.email||"",adminPanelRole:e.adminPanelRole||"",active:String(e.active!==!1),role:e.role||"",company:typeof e.company=="object"?e.company._id:e.company||void 0};return e.password&&e.password.trim()!==""&&(s.password=e.password),t.post(`/api/users/admin/${n}`,s)};function u(){const n=r();return p({mutationFn:({userId:e,data:s})=>l(e,s),onSuccess:()=>{n.invalidateQueries({queryKey:m.users.all})}})}export{y as g,u};
